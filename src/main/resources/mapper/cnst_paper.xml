<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pharm.chorok.web.main.repository.CnstPaperRepository">

<select id="selectCnstPaper" parameterType="com.pharm.chorok.domain.table.TbPpCnstPaper" resultType="com.pharm.chorok.domain.table.TbPpCnstPaper">
	
	SELECT CONCAT_WS('_', CNST_VER, NUM) AS 'ID',
		   CNST_VER,
		   NUM,
		   QUEST_TEXT,
		   EXAM_CD,
		   EXAM_CNT,
		   EXAM1,
		   EXAM2,
		   EXAM3,
		   EXAM4,
		   EXAM5,
		   EXAM6,
		   EXAM7,
		   CONCAT(IFNULL(EXAM1,''),',',IFNULL(EXAM2,''),',',IFNULL(EXAM3,''),',',IFNULL(EXAM4,''),',',IFNULL(EXAM5,''),',',IFNULL(EXAM6,''),',',IFNULL(EXAM7,'')) AS EXAM,
		   USE_YN,
		   REG_ID,
		   REG_DTTM,
		   UPD_ID,
		   UPD_DTTM
		FROM TB_PP_CNST_PAPER
		WHERE CNST_VER = #{cnstVer}
		AND USE_YN = 'Y'
	</select>

</mapper>