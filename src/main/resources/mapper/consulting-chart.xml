<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pharm.chorok.web.main.repository.ConsultingRepository">

  <select id="selectCnstChartByCustId" resultType="com.pharm.chorok.domain.table.TbPpCnstChart" parameterType="com.pharm.chorok.domain.table.TbPpCnstChart">
	<![CDATA[    
  SELECT CNST_ID
       , CUST_ID
       , CNST_DT
       , PIC_USR_NO
       , DEL_YN
       , CNST_DESC
       , CUR_WGT
       , TGT_WGT
       , START_DOSG_DT
       , REG_DT
       , REG_USR_NO
       , UPD_DT
       , UPD_USR_NO
    FROM TB_PP_CNST_CHART
   WHERE custId = #{custId}
   ORDER
      BY CNST_DT DESC
	]]>
	</select>

  <insert id="insertTpPpCnstChart" parameterType="com.pharm.chorok.domain.table.TbPpCnstChart">
	<![CDATA[    
    INSERT INTO TB_PP_CNST_CHART (
           CUST_ID
         , CNST_DT
         , PIC_USR_NO
         , DEL_YN
         , REG_DT
         , REG_USR_NO
    ) VALUES (
           #{custId}
         , now()
         , #{picUsrNo}
         , 'N'
         , now()
         , #{regUsrNo}
    )
	]]>
	</insert>
	
</mapper>